"use strict";(self.webpackChunkpresent_app=self.webpackChunkpresent_app||[]).push([[235],{1372:function(e,t,n){n.d(t,{w:function(){return r}});var s=n(184),r=function(e){var t=e.actions,n=e.text,r=e.title,i=e.setShowPromptModal;return(0,s.jsx)("div",{className:"fixed bg-white/65 dark:bg-black/65 left-0 top-0 h-dvh w-screen flex flex-col items-center justify-center",onClick:function(e){return i(!1)},children:(0,s.jsxs)("div",{className:"h-fit w-11/12 sm:w-1/3 gap-2 min-w-3.5 flex flex-col justify-between text-black dark:text-white bg-zinc-100 dark:bg-zinc-900 p-5 rounded-md",onClick:function(e){return e.stopPropagation()},children:[(0,s.jsx)("h2",{children:r}),(0,s.jsx)("p",{className:"text-sm mb-2",children:n}),t()]})})}},5235:function(e,t,n){n.r(t);var s=n(1413),r=n(4165),i=n(5861),o=n(9439),a=n(8011),c=n(4706),l=n(6994),u=n(1087),d=n(7689),x=n(9126),p=n(1478),f=n(9132),h=n(2791),m=n(71),j=n(4223),v=n(1372),w=n(4043),k=n(2481),b=n(184),g=function(e){var t=e.icon,n=e.name,s=e.navigate;e.admin;return(0,b.jsx)(u.rU,{to:s,children:(0,b.jsxs)("div",{className:"flex w-full rounded-md p-2 pr-1 pl-3 gap-4 items-center text-zinc-700 dark:text-zinc-200 hover:opacity-90 transition-opacity",children:[t,(0,b.jsx)("div",{children:n})]})})},y=[{icon:(0,b.jsx)(m.r$O,{size:20}),name:"Informacje",navigate:"/Information",admin:!1}],z={icon:(0,b.jsx)(m.MDt,{size:20}),name:"Wyloguj mnie",navigate:"./",admin:!1},Z={icon:(0,b.jsx)(m.PS1,{size:20}),name:"Usu\u0144 konto",navigate:"./",admin:!1};t.default=function(){var e=(0,d.s0)(),t=(0,p.zn)().notify,n=(0,f.Z)().user,m=(0,d.TH)(),w=(0,h.useState)(!1),k=(0,o.Z)(w,2),C=k[0],S=k[1],U=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.w7)(l.I8);case 2:e("/"),t({status:"success",title:"Zosta\u0142e\u015b wylogowany"});case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3 h-screen max-h-dvh justify-between w-full bg-white dark:bg-black",children:[(0,b.jsxs)("div",{className:"flex-col flex items-center justify-center w-full gap-2 mt-10",children:[(0,b.jsx)("div",{className:"rounded-full p-8 bg-zinc-200 dark:bg-zinc-950 border-[5px] border-zinc-400 dark:border-zinc-800",children:(0,b.jsx)(x.HHm,{size:40,color:"white"})}),(0,b.jsx)("h2",{className:"dark:text-white font-semibold",children:null===n||void 0===n?void 0:n.nick})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center justify-between w-full pr-4 pl-4 pt-10 flex-grow overflow-auto h-0",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2 w-full pl-3 pr-3 overflow-auto h-full",children:[(0,b.jsx)(u.rU,{to:"/EditUserModal",state:{previousLocation:m},children:(0,b.jsxs)("div",{className:"flex w-full rounded-md p-2 pr-1 pl-3 gap-4 items-center text-zinc-700 dark:text-zinc-200 hover:opacity-90 transition-opacity",children:[(0,b.jsx)(x.cHS,{size:20}),(0,b.jsx)("div",{children:"Edytuj profil"})]})}),y.map((function(e,t){return(0,h.createElement)(g,(0,s.Z)((0,s.Z)({},e),{},{key:t}))})),(0,b.jsx)("div",{onClick:U,children:(0,b.jsx)(g,(0,s.Z)({},z))}),(0,b.jsx)("div",{onClick:function(){return S(!0)},children:(0,b.jsx)(g,(0,s.Z)({},Z))})]}),(0,b.jsx)(u.rU,{to:"/ReleaseNotes",children:(0,b.jsxs)("div",{className:"bg-transparent w-full text-green-600/85 text-center text-sm py-2 px-4 hover:border-transparent rounded",children:["ScheduleWork v",j.e.version," - for Prato Verde"]})})]}),C&&(0,b.jsx)(v.w,{text:"Czy na pewno chcesz usun\u0105\u0107 swoje konto? wszyystkie dane zostan\u0105 usuni\u0119te.",title:"Zatwierd\u017a",setShowPromptModal:S,actions:function(){return(0,b.jsx)(N,{setShowPromptModal:S})}}),(0,b.jsx)(c.Z,{type:"Settings"})]})};var N=function(e){var t=e.setShowPromptModal,n=(0,h.useState)(!1),s=(0,o.Z)(n,2),r=s[0],i=s[1],a=(0,p.zn)().notify,c=(0,f.Z)().user;return r?(0,b.jsx)(w.Z,{}):(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{className:"button bg-zinc-700-600 text-white font-bold hover:opacity-80 transition-opacity p-1.5 rounded-md text-sm",onClick:function(){return t(!1)},children:"Wyjd\u017a"}),(0,b.jsx)("button",{className:"button bg-red-600 text-white pl-3 pr-3 font-bold hover:opacity-80 transition-opacity p-1.5 rounded-md text-sm",onClick:function(){i(!0),C(a,c.uid),i(!1)},children:"Usu\u0144 konto"})]})},C=function(e,t){var n=l.I8.currentUser;n&&(0,a.h8)(n).then((function(){e({status:"success",title:"Uda\u0142o si\u0119 usun\u0105\u0107 konto!"})})).then((0,i.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,k.oe)((0,k.JU)(l.db,"users",t));case 3:e({status:"success",title:"Uda\u0142o si\u0119 usun\u0105\u0107 dane konta!"}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),e({status:"error",title:"Co\u015b posz\u0142o nie tak!"});case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).catch((function(t){(t.code="auth/requires-recent-login")?e({status:"error",title:"Aby usun\u0105\u0107 konto, zaloguj si\u0119 ponownie!"}):e({status:"error",title:"Co\u015b posz\u0142o nie tak, spr\xf3buj ponownie p\xf3\u017aniej"})}))}}}]);
//# sourceMappingURL=235.26a187ec.chunk.js.map